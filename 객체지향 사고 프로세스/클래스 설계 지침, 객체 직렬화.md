## 클래스 설계 지침 / 객체 직렬화



## 협동할 수 있는 객체로 만들기

홀로 쓰이는 클래스가 거의 없다는 점을 확실히 말할 수 있다.

어떤 한 가지 클래스는 그 밖의 클래스에 서비스한다.

한편으로 서비스를 받는 클래스가 그 밖의 클래스에 서비스 하기도 하고 클래스들끼리 서로 서비스하기도 한다.

<br/><br/>

## 재사용을 고려한 설계

객체는 재사용을 염두에 두고 코드를 작성해야 한다.

클래스를 다양한 시스템에서 사용할 수 있게 하려면 재사용할 일을 염두에 두고 클래스를 설계해야 한다.


<br/><br/>

## 알아보기 쉽게 이름을 짓기

이름만 보고도 객체가 무엇을 표현하고 있는지를 알 수 있어야 한다.

명명 규칙은 종종 여러 조직의 코딩 표준에 의해 결정된다.

<br/><br/>

### 범위를 가능한 작게 유지

범위를 최대한 작게 유지하면 추상화와 구현부 은닉이 자연스럽게 이뤄진다.

```
전역 변수의 범위를 최소화하는 게 좋은 프로그래밍 스타일이다.
```

<br/><br/>

## 유지보수를 고려한 설계

클래스를 설계할 때 확장성을 염두에 두고 설계하듯이 향후의 유지보수도 염두에 두고 설계해야 한다.

```
클래스를 설계할 때에는 코드를 관리하기 쉬운 여러 조각으로 작성해 둔 
다음에 합성할 수 있게 설계하는 것이 바람직하다.
```

여러 조각으로 나뉜 코드를 유지보수하기가 큰 코드를 유지보수 하기보다 쉬운 편이다.

<br/>

유지보수성을 높이는 가장 좋은 방법중 하나는 서로 의존하는 코드를 줄이는 것이다.

즉, 한 클래스의 변경 사항이 다른 클래스에 영향을 미치지 않거나 최소한의 영향을 미치도록 한다.

유지보수성을 높이려면 클래스 간의 서로 묶이게 되는 정도를 가능한 낮게 유지해야 한다.

<br/><br/>

## 개발 과정 반복

```
모든 코드를 한 번에 작성하지 말아야 한다.
```

코드 크기를 작게 해서 작성한 다음에 각 단게별로 코드를 빌드하고 테스트 하자.

테스트 계획을 잘 짜 놓으면 인터페이스가 충분하지 않은 영역을 빨리 찾아낼 것이다.

반복적인 과정을 거치게 하면 테스트를 담당하는 사람은 편해진다.

<br/><br/>

### 인터페이스 테스트

인터페이스를 최소한으로 구현한 것을 종종 스텁이라고 부른다.

스텁을 사용하면 실제 코드를 작성하지 않고도 인터페이스를 테스트 할 수가 있다.

인터페이스가 완성되고 구현부 부분을 개발 중이라면 스텁을 떼어 내고 데이터 베이스에 직접 연결하면 된다.

## 객체 지속성 사용

지속성이란 객체의 상태를 유지한다는 개념이다.

프로그램을 실행할 때 어떤 방식으로든 객체를 저장하지 않으면 객체가 죽어 버려서 다시는 복구되지 않는다.

<br/>

일부 애플리케이션에서는 이러한 임시 객체가 작동할 수도 있지만, 

대부분의 비즈니스 시스템에서는 나중에 사용하기 위해 객체의 상태를 저장해야 한다.

<br/><br/>

## 객체 직렬화 및 객체 마샬링

통신 선로를 거쳐 객체를 보내려면(예를 들어, 네트워크를 통해 어떠한 파일로 보내려면) 시스템이 
객체의 구성을 

해체하여 평평하게 통신선을 통해 전송한 다음에 통신선의 다른 쪽 끝에서 재구성해야 한다. 

이 과정을 객체에 대한 직렬화라고 한다.

<br/>

통신선을 통해 객체를 보내는 행위를 객체에 대한 마샬링이라고 한다.

이론적으로 직렬화된 객체는 플랫 파일에 기록되고 나중에 기록된 상태와 동일한 상태로 검색될 수 있다.

<br/>

직렬화와 역직렬화가 동일한 규격을 따라야 한다는 점이다.

자바는 이와 같은 변환을 담당할 수 있게 Serializable 이라는 인터페이스를 제공한다.


<br/><br/>

>**Reference** 
> <br/> [객체지향 사고 프로세스](http://www.yes24.com/Product/Goods/90688759)