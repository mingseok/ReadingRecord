## 책임 주도 설계

협력을 설계하기 위해서는 책임에 초점을 맞춰야 한다는 것이다.

어떤 책임을 선택하느냐가 전체적인 설계의 방향과 흐름을 결정한다.

<br/>

이처럼, 책임을 찾고 책임을 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 

협력을 설계하는 방법을 책임 주도 설계라고 부른다.

<br/><br/>

## 책임 주도 설계 방법을 정리한 것이다.

영화 예매 협력을 설계했던 과정을 떠올리면서 읽어 보자. (이전 ‘책임’ 포스팅)

```
- 시스템이 사용자에게 제공해야 하는 기능인 시스템 책임을 파악한다.

- 시스템 책임을 더 작은 책임으로 분할한다.

- 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 책임을 할당한다.

- 객체가 책임을 수행하는 도중 다른 객체의 도움이 필요한 경우 
  이를 책임질 적절한 객체 또는 역할을 찾는다.

- 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 협력하게 된다.
```

책임 주도 설계는 자연스럽게 객체의 구현이 아닌 책임에 집중할 수 있게 해준다.

<br/><br/>

## 메시지가 객체를 결정한다.

객체에게 책임을 할당하는데 필요한 메시지를 먼저 식별하고 메시지를 처리할 객체를 나중에 선택했다는 것이 중요하다.

다시 말해, 객체가 메시지를 선택하는 것이 아니라 메시지가 객체를 선택하게 하는 것이다.

```
영화 예매 시스템의 경우 ‘예매하라’ 라는 메시지를 선택하는 것으로 설계를 시작했다는 것이다.
```

<br/>

협력을 위해 ‘예매하라’ 라는 메시지가 필요하다는 결정을 내린 후에 그 메시지를 

수신할 적절한 객체로 Screening 클래스를 선택했다.

<br/>

Screening이 ‘가격을 계산하라’ 라는 메시지를 전송해야 한다는 사실을 결정한 후에 

그 메시지를 수신할 수 있는 객체로 Movie 클래스를 선택했다.

<br/><br/>

## 행동이 상태를 결정한다.

객체가 존재하는 이유는 협력에 참여하기 위해서다.

따라서, 객체는 협력에 필요한 행동을 제공해야 한다.

```
객체를 객체답게 만드는 것은 객체의 상태가 아니라 객체가 다른 객체에게 제공하는 행동이다.
```

<br/>

객체의 행동은 객체가 협력에 참여할 수 있는 유일한 방법이다.

객체가 협력에 적합한지를 결정하는 것은 그 객체의 상태가 아니라 행동이다.

<br/><br/>

## 나같은 초보자들이 하는 실수

객체의 행동이 아니라 상태에 초점을 맞추는 것이다.

먼저 객체에 필요한 상태가 무엇인지를 결정하고, 그 후에 상태에 필요한 행동을 결정한다.

<br/>

이런 방식은 객체의 내부 구현이 객체의 퍼블릭 인터페이스에 노출되도록 만들기 때문에 캡슐화를 저해한다. 

<br/>

협력 관계 속에서 다른 객체에게 무엇을 제공해야 하고 다른 객체로부터 

무엇을 얻어야 하는지 
고민해야만 훌륭한 책임을 수확할 수 있다.

<br/>

개별 객체의 상태와 행동이 아닌 시스템의 기능을 구현하기 위한 협력에 초점을 맞춰야만 

응집도가 높고 결합도가 낮은 객체들을 창조할 수 있다.

```
객체가 가질 수 있는 상태는 행동을 결정하고 나서야 비로소 결정할 수 있다.
협력이 객체의 행동을 결정하고 행동이 상태를 결정한다.
```

<br/><br/>

>**Reference** 
> <br/> [오브젝트](http://www.yes24.com/Product/Goods/74219491)